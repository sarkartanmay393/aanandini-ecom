(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9516:function(e,t,n){Promise.resolve().then(n.bind(n,5024))},5024:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(7573),a=n(7653),s=n(1695),i=n(2246),o=n(7264),l=n(6548);function d(){let{login:e,user:t,isLoading:n}=(0,o.a)(),d=(0,s.useRouter)(),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1);if(n)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-pulse text-slate-400",children:"Loading..."})});if(t&&"ADMIN"===t.role)return d.replace("/"),null;let p=async t=>{t.preventDefault(),x(""),b(!0);try{await e(c,f),d.push("/")}catch(e){x(e.message||"Invalid credentials")}finally{b(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 px-4 animate-fade-in",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-purple-600 text-white text-2xl font-bold mb-4",children:"A"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),(0,r.jsxs)("p",{className:"text-slate-400 mt-1 flex items-center justify-center gap-1.5",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"})," Authorized personnel only"]})]}),(0,r.jsx)("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 p-8",children:(0,r.jsxs)("form",{onSubmit:p,className:"space-y-5",children:[h&&(0,r.jsx)("div",{className:"bg-red-500/10 text-red-400 text-sm px-4 py-3 rounded-lg border border-red-500/20 animate-scale-in",children:h}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),(0,r.jsx)(i.II,{type:"email",placeholder:"admin@example.com",value:c,onChange:e=>u(e.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Password"}),(0,r.jsx)(i.II,{type:"password",placeholder:"••••••••",value:f,onChange:e=>m(e.target.value),required:!0,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"})]}),(0,r.jsx)(i.zx,{type:"submit",className:"w-full",size:"lg",disabled:g,children:g?(0,r.jsx)("span",{className:"animate-pulse",children:"Signing in..."}):"Sign In"})]})})]})})}},5118:function(e,t,n){"use strict";n.d(t,{AU:function(){return f},CP:function(){return u},E7:function(){return m},Ir:function(){return c},Xp:function(){return i},fy:function(){return h},nM:function(){return d},ry:function(){return l},wv:function(){return o},x4:function(){return s}});let r=n(4859).env.NEXT_PUBLIC_API_URL||"http://localhost:3000";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:n,headers:a,...s}=t,i={...a||{}};s.body instanceof FormData||(i["Content-Type"]="application/json"),n&&(i.Authorization="Bearer ".concat(n));let o=await fetch("".concat(r).concat(e),{headers:i,...s});if(!o.ok)throw Error((await o.json().catch(()=>({message:"An error occurred"}))).message||"Request failed with status ".concat(o.status));return o.json()}function s(e){return a("/auth/login",{method:"POST",body:JSON.stringify(e)})}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&""!==r&&n.set(t,String(r))});let r=n.toString();return a("/products".concat(r?"?".concat(r):""),{token:e})}function o(e,t){return a("/products/".concat(t),{token:e})}function l(e,t){return a("/products",{method:"POST",body:JSON.stringify(t),token:e})}function d(e,t,n){return a("/products/".concat(t),{method:"PUT",body:JSON.stringify(n),token:e})}function c(e,t){return a("/products/".concat(t),{method:"DELETE",token:e})}function u(e){return a("/categories",{token:e})}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&""!==r&&n.set(t,String(r))});let r=n.toString();return a("/orders".concat(r?"?".concat(r):""),{token:e})}function m(e,t,n){return a("/orders/".concat(t,"/status"),{method:"PUT",body:JSON.stringify({status:n}),token:e})}function h(e){return a("/orders/stats",{token:e})}},7264:function(e,t,n){"use strict";n.d(t,{H:function(){return o},a:function(){return l}});var r=n(7573),a=n(7653),s=n(5118);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,a.useState)({user:null,token:null,isLoading:!0});(0,a.useEffect)(()=>{let e=localStorage.getItem("anandibi_admin_token"),t=localStorage.getItem("anandibi_admin_user");if(e&&t)try{let n=JSON.parse(t);"ADMIN"===n.role?o({user:n,token:e,isLoading:!1}):(localStorage.removeItem("anandibi_admin_token"),localStorage.removeItem("anandibi_admin_user"),o({user:null,token:null,isLoading:!1}))}catch(e){localStorage.removeItem("anandibi_admin_token"),localStorage.removeItem("anandibi_admin_user"),o({user:null,token:null,isLoading:!1})}else o(e=>({...e,isLoading:!1}))},[]);let l=(0,a.useCallback)(async(e,t)=>{let n=await s.x4({email:e,password:t});if("ADMIN"!==n.user.role)throw Error("Access denied. Admin accounts only.");localStorage.setItem("anandibi_admin_token",n.accessToken),localStorage.setItem("anandibi_admin_user",JSON.stringify(n.user)),o({user:n.user,token:n.accessToken,isLoading:!1})},[]),d=(0,a.useCallback)(()=>{localStorage.removeItem("anandibi_admin_token"),localStorage.removeItem("anandibi_admin_user"),o({user:null,token:null,isLoading:!1})},[]);return(0,r.jsx)(i.Provider,{value:{...n,login:l,logout:d},children:t})}function l(){let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},2246:function(e,t,n){"use strict";n.d(t,{zx:function(){return u},II:function(){return f}});var r=n(7573),a=n(7653),s=n(5814),i=n(9289),o=n(607),l=n(5579);function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.m6)((0,o.W)(t))}let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-indigo-600 text-white shadow-md hover:bg-indigo-700 hover:shadow-lg active:scale-[0.98]",destructive:"bg-red-600 text-white shadow-md hover:bg-red-700 hover:shadow-lg active:scale-[0.98]",outline:"border border-slate-300 bg-white text-slate-700 shadow-sm hover:bg-slate-50 hover:border-slate-400",secondary:"bg-slate-100 text-slate-700 shadow-sm hover:bg-slate-200 active:scale-[0.98]",ghost:"text-slate-700 hover:bg-slate-100",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:o=!1,...l}=e,u=o?s.g7:"button";return(0,r.jsx)(u,{className:d(c({variant:a,size:i,className:n})),ref:t,...l})});u.displayName="Button";let f=a.forwardRef((e,t)=>{let{className:n,type:a,...s}=e;return(0,r.jsx)("input",{type:a,className:d("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});f.displayName="Input",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-xl border border-slate-200 bg-white shadow-sm transition-all duration-300 hover:shadow-md",n),...a})}).displayName="Card",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",n),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:d("text-lg font-semibold leading-none tracking-tight text-slate-900",n),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:d("text-sm text-slate-500",n),...a})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",n),...a})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",n),...a})}).displayName="CardFooter"}},function(e){e.O(0,[546,293,528,744],function(){return e(e.s=9516)}),_N_E=e.O()}]);
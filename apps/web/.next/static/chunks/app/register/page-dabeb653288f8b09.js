(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{9666:function(e,t,r){Promise.resolve().then(r.bind(r,3056))},3056:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7573),a=r(7653),s=r(8146),i=r(1695),o=r(2246),l=r(7264);let u=(0,r(4313).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function c(){let{register:e,user:t}=(0,l.a)(),r=(0,i.useRouter)(),[c,d]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[v,b]=(0,a.useState)(!1);if(t)return r.replace("/"),null;let y=async t=>{t.preventDefault(),p(""),b(!0);try{await e(c,f,h),r.push("/")}catch(e){p(e.message||"Registration failed")}finally{b(!1)}};return(0,n.jsx)("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center px-4 py-12 animate-fade-in",children:(0,n.jsxs)("div",{className:"w-full max-w-md",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-purple-600 text-white text-xl font-bold mb-4",children:"A"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Create Account"}),(0,n.jsx)("p",{className:"text-slate-500 mt-1",children:"Join Anandibi and start shopping"})]}),(0,n.jsx)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8",children:(0,n.jsxs)("form",{onSubmit:y,className:"space-y-5",children:[g&&(0,n.jsx)("div",{className:"bg-red-50 text-red-700 text-sm px-4 py-3 rounded-lg border border-red-200 animate-scale-in",children:g}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Name"}),(0,n.jsx)(o.II,{type:"text",placeholder:"Your name",value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email"}),(0,n.jsx)(o.II,{type:"email",placeholder:"you@example.com",value:f,onChange:e=>m(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,n.jsx)(o.II,{type:"password",placeholder:"Minimum 6 characters",value:h,onChange:e=>x(e.target.value),minLength:6,required:!0})]}),(0,n.jsx)(o.zx,{type:"submit",className:"w-full gap-2",size:"lg",disabled:v,children:v?(0,n.jsx)("span",{className:"animate-pulse",children:"Creating account..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{className:"h-4 w-4"})," Create Account"]})})]})}),(0,n.jsxs)("p",{className:"text-center text-sm text-slate-500 mt-6",children:["Already have an account?"," ",(0,n.jsx)(s.default,{href:"/login",className:"text-brand-600 font-medium hover:underline",children:"Sign in"})]})]})})}},5118:function(e,t,r){"use strict";r.d(t,{CP:function(){return u},Xp:function(){return o},wv:function(){return l},x4:function(){return i},z2:function(){return s}});let n=r(4859).env.NEXT_PUBLIC_API_URL||"http://localhost:3000";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:r,headers:a,...s}=t,i={"Content-Type":"application/json",...a||{}};r&&(i.Authorization="Bearer ".concat(r));let o=await fetch("".concat(n).concat(e),{headers:i,...s});if(!o.ok)throw Error((await o.json().catch(()=>({message:"An error occurred"}))).message||"Request failed with status ".concat(o.status));return o.json()}function s(e){return a("/auth/register",{method:"POST",body:JSON.stringify(e)})}function i(e){return a("/auth/login",{method:"POST",body:JSON.stringify(e)})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,n]=e;void 0!==n&&""!==n&&t.set(r,String(n))});let r=t.toString();return a("/products".concat(r?"?".concat(r):""))}function l(e){return a("/products/".concat(e))}function u(){return a("/categories")}},7264:function(e,t,r){"use strict";r.d(t,{H:function(){return o},a:function(){return l}});var n=r(7573),a=r(7653),s=r(5118);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)({user:null,token:null,isLoading:!0});(0,a.useEffect)(()=>{let e=localStorage.getItem("anandibi_token"),t=localStorage.getItem("anandibi_user");if(e&&t)try{let r=JSON.parse(t);o({user:r,token:e,isLoading:!1})}catch(e){localStorage.removeItem("anandibi_token"),localStorage.removeItem("anandibi_user"),o({user:null,token:null,isLoading:!1})}else o(e=>({...e,isLoading:!1}))},[]);let l=(0,a.useCallback)(async(e,t)=>{let r=await s.x4({email:e,password:t});localStorage.setItem("anandibi_token",r.accessToken),localStorage.setItem("anandibi_user",JSON.stringify(r.user)),o({user:r.user,token:r.accessToken,isLoading:!1})},[]),u=(0,a.useCallback)(async(e,t,r)=>{let n=await s.z2({name:e,email:t,password:r});localStorage.setItem("anandibi_token",n.accessToken),localStorage.setItem("anandibi_user",JSON.stringify(n.user)),o({user:n.user,token:n.accessToken,isLoading:!1})},[]),c=(0,a.useCallback)(()=>{localStorage.removeItem("anandibi_token"),localStorage.removeItem("anandibi_user"),o({user:null,token:null,isLoading:!1})},[]);return(0,n.jsx)(i.Provider,{value:{...r,login:l,register:u,logout:c},children:t})}function l(){let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},1695:function(e,t,r){"use strict";var n=r(1219);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},4859:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(9566)},9566:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=o(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||u||o(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var a=n(229);e.exports=a}()},2246:function(e,t,r){"use strict";r.d(t,{zx:function(){return d},II:function(){return f}});var n=r(7573),a=r(7653),s=r(5814),i=r(9289),o=r(607),l=r(5579);function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m6)((0,o.W)(t))}let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-indigo-600 text-white shadow-md hover:bg-indigo-700 hover:shadow-lg active:scale-[0.98]",destructive:"bg-red-600 text-white shadow-md hover:bg-red-700 hover:shadow-lg active:scale-[0.98]",outline:"border border-slate-300 bg-white text-slate-700 shadow-sm hover:bg-slate-50 hover:border-slate-400",secondary:"bg-slate-100 text-slate-700 shadow-sm hover:bg-slate-200 active:scale-[0.98]",ghost:"text-slate-700 hover:bg-slate-100",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:o=!1,...l}=e,d=o?s.g7:"button";return(0,n.jsx)(d,{className:u(c({variant:a,size:i,className:r})),ref:t,...l})});d.displayName="Button";let f=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:u("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});f.displayName="Input",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:u("rounded-xl border border-slate-200 bg-white shadow-sm transition-all duration-300 hover:shadow-md",r),...a})}).displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:u("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:u("text-lg font-semibold leading-none tracking-tight text-slate-900",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:u("text-sm text-slate-500",r),...a})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:u("p-6 pt-0",r),...a})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:u("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"}},function(e){e.O(0,[697,494,293,528,744],function(){return e(e.s=9666)}),_N_E=e.O()}]);